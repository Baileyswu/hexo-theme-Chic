<div class="post-wrap archive">
    <% var last_year = ''; %>
    <% page.posts.each(function (post) { %>
        <% var cur_year = post.date.year(); %>

        <% if(last_year !== cur_year){ %>
            <h3><%- cur_year %></h3>
        <% last_year = cur_year; } %>

        <article class="archive-item">
            <a class="archive-item-link" href="<%- url_for(post.path) %>"> <%= post.title %> <small>(<span id="<%- url_for(post.path) %>" class="leancloud_visitors" data-flag-title="<%- post.title %>"> <i class="leancloud-visitors-count">101</i> </span>)</small></a>
            <span class="archive-item-date"><%- date(post.date, theme.date_format) %></span>
        </article>
    <% }) %>
    <%- partial('_partial/paginator') %>
    <% if (theme.valine.enable) { %>
        <div id="valine-container"></div>
        <%- partial('_plugins/valine') %>
    <% } %>
</div>